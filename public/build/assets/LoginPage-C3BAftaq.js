import{r as l,u as f,a as j,b as N,j as e,g as y,z as x}from"./index-BR0FwfB_.js";function S(){const[n,g]=l.useState(""),[r,h]=l.useState(""),[i,o]=l.useState(!1),{setAuth:p}=f(),{branding:t}=j(),c=N(),m=t.platform_logo?`/storage/${t.platform_logo}`:null,b=async a=>{var u,d;a.preventDefault(),o(!0);try{const{data:s}=await y.login({email:n,password:r});p(s.user,s.access_token),s.user.role==="kitchen"?c("/kitchen"):c("/dashboard"),x.success("Welcome back!")}catch(s){x.error(((d=(u=s.response)==null?void 0:u.data)==null?void 0:d.message)||"Login failed")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[m?e.jsx("img",{src:m,alt:t.platform_name,className:"h-12 mx-auto mb-3"}):e.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:t.platform_name||"RestaurantSaaS"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Sign in to your account"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email"}),e.jsx("input",{type:"email",className:"input",value:n,onChange:a=>g(a.target.value),placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Password"}),e.jsx("input",{type:"password",className:"input",value:r,onChange:a=>h(a.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full py-3",children:i?"Signing in...":"Sign In"})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-6"})]})]})})}export{S as default};
