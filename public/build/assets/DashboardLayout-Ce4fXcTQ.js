import{u as j,a as N,b as y,r as v,j as e,O as _,N as c}from"./index-B_U3xfNL.js";import{P as w}from"./PoweredBy-Dt8il9cb.js";import{H as O,a as k,b as h,c as C,d as H,e as S,f as L,g as z,h as B,i as m,j as T,k as D,l as M,m as x,n as P}from"./index-BkSbYybd.js";const R=[{icon:O,label:"Dashboard",to:"/dashboard",roles:["super_admin","restaurant_admin","staff"]},{icon:k,label:"Orders",to:"/dashboard/orders",roles:["restaurant_admin","staff"]},{icon:h,label:"Menu Items",to:"/dashboard/menu",roles:["restaurant_admin"]},{icon:C,label:"Categories",to:"/dashboard/categories",roles:["restaurant_admin"]},{icon:H,label:"Tables",to:"/dashboard/tables",roles:["restaurant_admin","staff"]},{icon:S,label:"Vouchers",to:"/dashboard/vouchers",roles:["restaurant_admin"]},{icon:L,label:"Reports",to:"/dashboard/reports",roles:["restaurant_admin"]},{icon:z,label:"Settlements",to:"/dashboard/settlements",roles:["restaurant_admin"]},{icon:B,label:"Users",to:"/dashboard/users",roles:["restaurant_admin"]},{icon:m,label:"Settings",to:"/dashboard/settings",roles:["restaurant_admin"]},{icon:T,label:"Tenants",to:"/dashboard/tenants",roles:["super_admin"]},{icon:D,label:"Subscriptions",to:"/dashboard/subscriptions",roles:["super_admin"]},{icon:m,label:"Platform Settings",to:"/dashboard/platform-settings",roles:["super_admin"]}];function I(){const{user:s,logout:b}=j(),{branding:a}=N(),u=y(),[g,t]=v.useState(!1),n=()=>{b(),u("/login")},f=R.filter(l=>l.roles.includes(s==null?void 0:s.role)),i=()=>{var l,o,d;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 shrink-0",children:[e.jsx("div",{className:"flex items-center",children:a.platform_logo?e.jsx("img",{src:`/storage/${a.platform_logo}`,alt:a.platform_name,className:"h-8"}):e.jsx("img",{src:"/assets/images/logo.png",alt:"Logo",className:"ml-2 h-8"})}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden text-gray-400 hover:text-gray-600",children:e.jsx(P,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[f.map(r=>e.jsxs(c,{to:r.to,end:r.to==="/dashboard",onClick:()=>t(!1),className:({isActive:p})=>`flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${p?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(r.icon,{className:"w-5 h-5 mr-3"}),r.label]},r.to)),(s==null?void 0:s.role)!=="super_admin"&&e.jsxs(c,{to:"/kitchen",onClick:()=>t(!1),className:"flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg",children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Kitchen Display"]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-4 shrink-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-medium shrink-0",children:(o=(l=s==null?void 0:s.name)==null?void 0:l[0])==null?void 0:o.toUpperCase()}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(d=s==null?void 0:s.role)==null?void 0:d.replace("_"," ")})]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-red-500 shrink-0",children:e.jsx(x,{className:"w-5 h-5"})})]}),(s==null?void 0:s.role)!=="super_admin"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 text-center",children:e.jsx(w,{})})]})]})};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[g&&e.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>t(!1)}),e.jsx("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white flex flex-col shadow-xl",children:e.jsx(i,{})})]}),e.jsx("aside",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-gray-200 shrink-0",children:e.jsx(i,{})}),e.jsxs("main",{className:"flex-1 overflow-y-auto min-w-0",children:[e.jsxs("header",{className:"md:hidden flex items-center justify-between h-14 px-4 bg-white border-b border-gray-200 sticky top-0 z-30",children:[e.jsx("button",{onClick:()=>t(!0),className:"text-gray-600 hover:text-gray-900",children:e.jsx(M,{className:"w-6 h-6"})}),a.platform_logo?e.jsx("img",{src:`/storage/${a.platform_logo}`,alt:a.platform_name,className:"h-7 truncate px-3"}):e.jsx("h1",{className:"text-lg font-bold text-blue-600 truncate px-3",children:a.platform_name||"RestaurantSaaS"}),e.jsx("button",{onClick:n,className:"text-gray-500 shrink-0",children:e.jsx(x,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:e.jsx(_,{})})]})]})}export{I as default};
