import{u as b,j as e,L as u,h as p}from"./index-CGzGCCal.js";import{u as j}from"./useQuery-B-VUE0ak.js";import{S as g}from"./StatusBadge-CVOwn4cx.js";function f(){var n,c,d,i,x,m,h;const{user:r}=b(),{data:s,isLoading:o}=j({queryKey:["dashboard"],queryFn:()=>p.get().then(l=>l.data.data),refetchInterval:3e4});return o?e.jsx(u,{}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:(r==null?void 0:r.role)==="super_admin"?"Platform Dashboard":"Dashboard"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:(r==null?void 0:r.role)==="super_admin"?e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Total Tenants",value:((n=s==null?void 0:s.tenants)==null?void 0:n.total)||0,color:"blue"}),e.jsx(t,{label:"Active Tenants",value:((c=s==null?void 0:s.tenants)==null?void 0:c.active)||0,color:"green"}),e.jsx(t,{label:"Total Users",value:(s==null?void 0:s.users)||0,color:"purple"}),e.jsx(t,{label:"Revenue Today",value:`৳${(s==null?void 0:s.revenue_today)||0}`,color:"yellow"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Orders Today",value:((d=s==null?void 0:s.orders)==null?void 0:d.today)||0,color:"blue"}),e.jsx(t,{label:"Revenue Today",value:`৳${((i=s==null?void 0:s.revenue)==null?void 0:i.today)||0}`,color:"green"}),e.jsx(t,{label:"Pending",value:((x=s==null?void 0:s.orders)==null?void 0:x.pending)||0,color:"yellow"}),e.jsx(t,{label:"Revenue Month",value:`৳${((m=s==null?void 0:s.revenue)==null?void 0:m.this_month)||0}`,color:"purple"})]})}),(s==null?void 0:s.recent_orders)&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[e.jsx("th",{className:"pb-3 pr-4",children:"Order #"}),e.jsx("th",{className:"pb-3 pr-4",children:"Type"}),e.jsx("th",{className:"pb-3 pr-4",children:"Table"}),e.jsx("th",{className:"pb-3 pr-4",children:"Total"}),e.jsx("th",{className:"pb-3",children:"Status"})]})}),e.jsx("tbody",{children:s.recent_orders.map(l=>{var a;return e.jsxs("tr",{className:"border-b last:border-0",children:[e.jsx("td",{className:"py-3 pr-4 font-medium",children:l.order_number}),e.jsx("td",{className:"py-3 pr-4 capitalize",children:l.type}),e.jsx("td",{className:"py-3 pr-4",children:((a=l.table)==null?void 0:a.table_number)||"-"}),e.jsxs("td",{className:"py-3 pr-4",children:["৳",l.grand_total]}),e.jsx("td",{className:"py-3",children:e.jsx(g,{status:l.status})})]},l.id)})})]})})]}),((h=s==null?void 0:s.top_items)==null?void 0:h.length)>0&&e.jsxs("div",{className:"card mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Selling Items (This Month)"}),e.jsx("div",{className:"space-y-3",children:s.top_items.map((l,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:a+1}),e.jsx("span",{className:"font-medium",children:l.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[l.total_qty," sold"]}),e.jsxs("span",{className:"ml-3 font-medium",children:["৳",l.total_revenue]})]})]},a))})]})]})}function t({label:r,value:s,color:o}){const n={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200",purple:"bg-purple-50 text-purple-700 border-purple-200",red:"bg-red-50 text-red-700 border-red-200"};return e.jsxs("div",{className:`rounded-xl border p-5 ${n[o]}`,children:[e.jsx("p",{className:"text-sm opacity-80",children:r}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:s})]})}export{f as default};
