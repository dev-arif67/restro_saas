import{B as n}from"./index-BzAOpcNr.js";const u=n((o,i)=>({items:[],tenantId:null,tableId:null,orderType:"dine",customerName:"",customerPhone:"",voucherCode:"",voucherDiscount:0,notes:"",setTenantId:e=>o({tenantId:e}),setTableId:e=>o({tableId:e}),setOrderType:e=>o({orderType:e}),setCustomerName:e=>o({customerName:e}),setCustomerPhone:e=>o({customerPhone:e}),setVoucherCode:e=>o({voucherCode:e}),setVoucherDiscount:e=>o({voucherDiscount:e}),setNotes:e=>o({notes:e}),addItem:e=>{const t=i().items,r=t.find(s=>s.menu_item_id===e.id);o(r?{items:t.map(s=>s.menu_item_id===e.id?{...s,qty:s.qty+1}:s)}:{items:[...t,{menu_item_id:e.id,name:e.name,price:e.price,qty:1,special_instructions:""}]})},removeItem:e=>{o({items:i().items.filter(t=>t.menu_item_id!==e)})},updateQty:(e,t)=>{if(t<=0){i().removeItem(e);return}o({items:i().items.map(r=>r.menu_item_id===e?{...r,qty:t}:r)})},updateInstructions:(e,t)=>{o({items:i().items.map(r=>r.menu_item_id===e?{...r,special_instructions:t}:r)})},getSubtotal:()=>i().items.reduce((e,t)=>e+t.price*t.qty,0),getItemCount:()=>i().items.reduce((e,t)=>e+t.qty,0),clearCart:()=>{o({items:[],voucherCode:"",voucherDiscount:0,notes:"",customerName:"",customerPhone:""})},getOrderPayload:()=>{const e=i();return{table_id:e.tableId,type:e.orderType,customer_name:e.customerName,customer_phone:e.customerPhone,voucher_code:e.voucherCode||void 0,notes:e.notes||void 0,items:e.items.map(t=>({menu_item_id:t.menu_item_id,qty:t.qty,special_instructions:t.special_instructions||void 0}))}}}));export{u};
